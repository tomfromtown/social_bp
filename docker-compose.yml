# Root docker-compose that orchestrates backend and frontend
# This file references backend/docker-compose.yml and frontend/docker-compose.yml
# Backend compose includes postgres, frontend compose is standalone

services:
  # Reference backend service from backend/docker-compose.yml
  backend:
    extends:
      file: ./backend/docker-compose.yml
      service: backend

  # Reference postgres service from backend/docker-compose.yml
  postgres:
    extends:
      file: ./backend/docker-compose.yml
      service: postgres

  # Reference frontend service from frontend/docker-compose.yml
  frontend:
    extends:
      file: ./frontend/docker-compose.yml
      service: frontend
    depends_on:
      - backend

# Shared volumes (defined in backend compose, referenced here)
volumes:
  postgres_data:
    external: false

# Shared network
networks:
  social-network:
    driver: bridge
    external: false
